---
sidebar_position: 5
---

# Middleware

The NextGlobeGen middleware can be enabled in [`middleware.ts`](https://nextjs.org/docs/app/building-your-application/routing/middleware) file. The middleware handles locale negotiation and adds alternate links of the page to the response headers.

## No other middleware logic

If you are not using any other middleware logic, you can just export the middleware from the NextGlobeGen package. Matcher should be altered to fit your needs.

```tsx title="src/middleware.ts"
export { middleware } from "next-globe-gen/middleware";

export const config = {
  // Matcher ignoring next internals and static assets
  matcher: ["/((?!_next|.*\\.).*)"],
};
```

## With other middleware logic

If you need to use custom middleware logic, you can call the middleware yourself with the given request instance. The `middleware` function returns a response instance which can be further modified.

```tsx title="src/middleware.ts"
export { middleware as nextGlobeGenMiddleware } from "next-globe-gen/middleware";

export function middleware(request: NextRequest) {
  const response = nextGlobeGenMiddleware(request);
  /**
   * Other custom logic
   */
  return response;
}

export const config = {
  // Matcher ignoring next internals and static assets
  matcher: ["/((?!_next|.*\\.).*)"],
};
```
